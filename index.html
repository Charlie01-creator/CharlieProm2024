<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Central College Mityana — Prom 2024</title>
  
  <!-- SEO & Social Meta Tags -->
  <meta name="description" content="Relive the magic of Central College Mityana Prom 2024 — highlights, gallery, and shared memories with watermark protection." />
  <meta property="og:title" content="Central College Mityana — Prom 2024 Memories">
  <meta property="og:description" content="Relive the magic of Prom 2024 with our gallery, highlights, and student stories.">
  <meta property="og:image" content="images/hero.webp">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://yourdomain.com/prom2024">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="theme-color" content="#8A4FFF" />
  
  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🎓</text></svg>">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Playfair+Display:wght@700;800&display=swap" rel="stylesheet">
  
  <!-- Preload critical resources -->
  <link rel="preload" as="image" href="1@ 222 copy.html">
  
  <style>
    :root {
      --brand: #8A4FFF;
      --brand2: #B380FF;
      --brand-dark: #6A30E0;
      --accent: #FF6B9D;
      --accent2: #FF4081;
      --ink: #1A1A2E;
      --muted: #5D5D7E;
      --light: #F8F9FF;
      --bg: #FAFAFF;
      --panel: #FFFFFF;
      --radius: 16px;
      --radius-lg: 24px;
      --shadow: 0 10px 24px rgba(138, 79, 255, 0.08);
      --shadow-lg: 0 20px 40px rgba(138, 79, 255, 0.12);
      --header-h: 80px;
      --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
    }
    
    * { 
      box-sizing: border-box; 
      margin: 0; 
      padding: 0;
    }
    
    html, body {
      scroll-behavior: smooth;
      font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--ink);
      line-height: 1.6;
      overflow-x: hidden;
    }
    
    h1, h2, h3, h4 {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      line-height: 1.2;
    }
    
    img {
      max-width: 100%;
      display: block;
      height: auto;
    }
    
    a {
      text-decoration: none;
      color: inherit;
      transition: var(--transition);
    }
    
    /* Header / Navbar */
    header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: rgba(255,255,255,.95);
      backdrop-filter: saturate(180%) blur(20px);
      border-bottom: 1px solid rgba(255,255,255,.8);
      transition: var(--transition);
    }
    
    header.scrolled {
      background: rgba(255,255,255,.98);
      box-shadow: 0 5px 20px rgba(0,0,0,.08);
    }
    
    .nav {
      max-width: 1400px;
      margin: 0 auto;
      height: var(--header-h);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 30px;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 800;
      letter-spacing: .3px;
      color: var(--brand);
      font-size: 1.25rem;
    }
    
    .logo svg {
      width: 36px;
      height: 36px;
      transition: var(--transition);
    }
    
    .logo:hover svg {
      transform: rotate(-10deg) scale(1.1);
    }
    
    .links {
      display: flex;
      align-items: center;
      gap: 28px;
    }
    
    .links a {
      padding: 10px 6px;
      position: relative;
      font-weight: 500;
      color: #333;
      transition: var(--transition);
    }
    
    .links a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 4px;
      height: 2px;
      width: 0;
      background: linear-gradient(90deg, var(--brand), var(--accent));
      border-radius: 2px;
      transition: var(--transition);
    }
    
    .links a.active::after,
    .links a:hover::after {
      width: 100%;
    }
    
    .cta-sign {
      margin-left: 6px;
      border: 0;
      padding: 12px 24px;
      border-radius: 999px;
      cursor: pointer;
      background: linear-gradient(45deg, var(--brand), var(--accent));
      color: #fff;
      font-weight: 700;
      box-shadow: 0 6px 14px rgba(138, 79, 255, 0.2);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }
    
    .cta-sign::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: 0.5s;
    }
    
    .cta-sign:hover::before {
      left: 100%;
    }
    
    .cta-sign:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(138, 79, 255, 0.3);
    }
    
    /* Mobile Navigation */
    .burger {
      display: none;
      flex-direction: column;
      gap: 5px;
      cursor: pointer;
      background: none;
      border: none;
      padding: 8px;
      z-index: 1002;
      position: relative;
    }
    
    .burger span {
      width: 26px;
      height: 3px;
      background: #333;
      border-radius: 3px;
      transition: var(--transition);
      transform-origin: center;
    }
    
    .burger.active span:nth-child(1) {
      transform: rotate(45deg) translate(6px, 6px);
    }
    
    .burger.active span:nth-child(2) {
      opacity: 0;
    }
    
    .burger.active span:nth-child(3) {
      transform: rotate(-45deg) translate(6px, -6px);
    }
    
    .drawer {
      display: none;
      position: fixed;
      inset: 0 0 0 auto;
      width: min(85vw, 380px);
      height: 100vh;
      background: rgba(255,255,255,0.85);
      backdrop-filter: blur(20px);
      padding: 100px 30px 40px;
      box-shadow: -12px 0 40px rgba(0,0,0,.15);
      z-index: 1001;
      transform: translateX(100%);
      transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1);
    }
    
    .drawer.active {
      transform: translateX(0);
    }
    
    .drawer a {
      display: block;
      padding: 16px 0;
      border-bottom: 1px solid rgba(0,0,0,.08);
      font-weight: 500;
      font-size: 1.1rem;
      transition: var(--transition);
    }
    
    .drawer a:hover {
      color: var(--brand);
      padding-left: 10px;
    }
    
    .scrim {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.5);
      backdrop-filter: blur(5px);
      z-index: 1000;
      opacity: 0;
      transition: opacity 0.4s ease;
    }
    
    .scrim.active {
      opacity: 1;
    }
    
    .noscr {
      overflow: hidden;
    }
    
    @media (max-width: 1024px) {
      .links {
        display: none;
      }
      .burger {
        display: flex;
      }
    }
    
    /* Sections */
    section {
      padding: clamp(80px, 8vw, 140px) 20px;
      position: relative;
    }
    
    .wrap {
      max-width: 1400px;
      margin: 0 auto;
    }
    
    /* Hero */
    .hero {
      margin-top: var(--header-h);
      padding-top: 60px;
      padding-bottom: 100px;
      background: 
        linear-gradient(135deg, rgba(138, 79, 255, 0.85), rgba(255, 107, 157, 0.7)), 
        url('1@ (222) copy-1.jpg') center/cover no-repeat;
      color: #fff;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
      opacity: 0.3;
    }
    
    .hero-content {
      max-width: 900px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }
    
    .eyebrow {
      font-weight: 700;
      letter-spacing: .2em;
      font-size: .85rem;
      opacity: .9;
      text-transform: uppercase;
      margin-bottom: 20px;
      display: inline-block;
      padding: 8px 16px;
      background: rgba(255,255,255,0.15);
      border-radius: 30px;
      backdrop-filter: blur(10px);
    }
    
    .title {
      font-size: clamp(2.5rem, 5.5vw, 4.5rem);
      line-height: 1.1;
      margin: .6rem 0 1.5rem;
      text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    
    .subtitle {
      max-width: 700px;
      margin: 0 auto 40px;
      font-size: clamp(1.1rem, 2.5vw, 1.4rem);
      opacity: .95;
      font-weight: 300;
    }
    
    .btns {
      display: flex;
      justify-content: center;
      gap: 18px;
      flex-wrap: wrap;
    }
    
    .btn {
      border: 0;
      padding: 16px 32px;
      border-radius: 999px;
      font-weight: 700;
      cursor: pointer;
      background: #fff;
      color: #111;
      box-shadow: var(--shadow);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }
    
    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      transition: 0.5s;
    }
    
    .btn:hover::before {
      left: 100%;
    }
    
    .btn:hover {
      transform: translateY(-4px);
      box-shadow: 0 15px 25px rgba(0,0,0,.15);
    }
    
    .btn.primary {
      background: linear-gradient(45deg, var(--brand), var(--accent));
      color: #fff;
    }
    
    .btn.ghost {
      background: transparent;
      border: 2px solid #fff;
      color: #fff;
      box-shadow: none;
    }
    
    .btn.ghost:hover {
      background: rgba(255,255,255,.15);
      transform: translateY(-4px);
      box-shadow: 0 10px 20px rgba(0,0,0,.1);
    }
    
    /* Floating elements */
    .floating {
      position: absolute;
      animation: float 6s ease-in-out infinite;
    }
    
    .floating-1 {
      top: 20%;
      left: 5%;
      width: 60px;
      height: 60px;
      background: rgba(255,255,255,0.2);
      border-radius: 50%;
      animation-delay: 0s;
    }
    
    .floating-2 {
      top: 60%;
      right: 8%;
      width: 40px;
      height: 40px;
      background: rgba(255,255,255,0.15);
      border-radius: 50%;
      animation-delay: 2s;
    }
    
    .floating-3 {
      bottom: 20%;
      left: 10%;
      width: 30px;
      height: 30px;
      background: rgba(255,255,255,0.1);
      border-radius: 50%;
      animation-delay: 4s;
    }
    
    @keyframes float {
      0% {
        transform: translateY(0) rotate(0deg);
      }
      50% {
        transform: translateY(-20px) rotate(10deg);
      }
      100% {
        transform: translateY(0) rotate(0deg);
      }
    }
    
    /* About */
    .about {
      background: var(--panel);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      overflow: hidden;
    }
    
    .grid-2 {
      display: grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 50px;
      align-items: center;
    }
    
    .kicker {
      color: var(--brand);
      font-weight: 800;
      margin-bottom: 12px;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    h2.sec {
      font-size: clamp(2rem, 4vw, 3rem);
      margin: .2rem 0 1.2rem;
    }
    
    .muted {
      color: var(--muted);
      font-size: 1.1rem;
      line-height: 1.7;
    }
    
    .about-img {
      border-radius: var(--radius);
      box-shadow: var(--shadow-lg);
      transition: var(--transition);
      overflow: hidden;
    }
    
    .about-img:hover {
      transform: scale(1.02);
    }
    
    @media (max-width: 1024px) {
      .grid-2 {
        grid-template-columns: 1fr;
        gap: 40px;
      }
      
      .about-img {
        order: -1;
      }
    }
    
    /* Highlights */
    .highlights .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 24px;
    }
    
    .card {
      background: #fff;
      border: 1px solid #eee;
      border-radius: var(--radius-lg);
      padding: 30px 24px;
      box-shadow: var(--shadow);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }
    
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 5px;
      height: 100%;
      background: linear-gradient(to bottom, var(--brand), var(--accent));
      transition: var(--transition);
    }
    
    .card:hover {
      transform: translateY(-10px);
      box-shadow: var(--shadow-lg);
    }
    
    .card:hover::before {
      width: 8px;
    }
    
    .card .icon {
      font-size: 40px;
      margin-bottom: 16px;
    }
    
    .card h3 {
      margin: 10px 0 12px;
      font-size: 1.3rem;
    }
    
    .pill {
      display: inline-block;
      padding: 8px 16px;
      border-radius: 999px;
      background: rgba(138, 79, 255, 0.1);
      font-size: .85rem;
      font-weight: 600;
      color: var(--brand);
    }
    
    /* Gallery */
    .gallery .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 24px;
    }
    
    .shot {
      position: relative;
      overflow: hidden;
      border-radius: var(--radius);
      background: #fff;
      box-shadow: var(--shadow);
      transition: var(--transition);
      cursor: pointer;
    }
    
    .shot:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-lg);
    }
    
    .shot img {
      height: 260px;
      width: 100%;
      object-fit: cover;
      transition: transform .6s ease;
    }
    
    .shot:hover img {
      transform: scale(1.1);
    }
    
    .shot-info {
      padding: 20px;
    }
    
    .shot-title {
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 1.2rem;
    }
    
    .shot-desc {
      color: var(--muted);
      font-size: 0.95rem;
      margin-bottom: 12px;
    }
    
    .shot-meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 10px;
    }
    
    .avatar-small {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      object-fit: cover;
      margin-right: 8px;
      border: 2px solid #fff;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .shot-likes {
      display: flex;
      align-items: center;
      color: var(--muted);
      font-size: 0.9rem;
    }
    
    .shot-likes::before {
      content: "❤️";
      margin-right: 5px;
    }
    
    .wm {
      position: absolute;
      right: 15px;
      bottom: 15px;
      font-size: .75rem;
      color: #fff;
      background: rgba(0,0,0,.6);
      padding: 6px 12px;
      border-radius: 20px;
      backdrop-filter: blur(4px);
    }
    
    /* Lightbox */
    .lightbox {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.95);
      z-index: 1200;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .lightbox.active {
      display: flex;
      opacity: 1;
    }
    
    .lightbox-content {
      position: relative;
      max-width: 90vw;
      max-height: 80vh;
    }
    
    .lightbox img {
      max-width: 100%;
      max-height: 80vh;
      border-radius: 12px;
      object-fit: contain;
      box-shadow: 0 25px 50px rgba(0,0,0,0.5);
    }
    
    .lightbox .close {
      position: absolute;
      top: -50px;
      right: 0;
      background: #fff;
      border: 0;
      width: 44px;
      height: 44px;
      border-radius: 50%;
      font-weight: 800;
      cursor: pointer;
      z-index: 1201;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
    }
    
    .lightbox .close:hover {
      background: var(--brand);
      color: white;
      transform: rotate(90deg);
    }
    
    .lightbox-caption {
      color: white;
      text-align: center;
      margin-top: 24px;
      font-size: 1.2rem;
      max-width: 600px;
      padding: 0 20px;
    }
    
    /* Share / Upload */
    .share .panel {
      display: grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 40px;
      align-items: center;
      background: #fff;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      padding: 40px;
      overflow: hidden;
    }
    
    @media (max-width: 1024px) {
      .share .panel {
        grid-template-columns: 1fr;
      }
    }
    
    .well {
      background: #f9f9ff;
      border: 1px dashed #d7d7ff;
      border-radius: 14px;
      padding: 24px;
    }
    
    .form-row {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }
    
    input[type="email"],
    input[type="text"],
    input[type="file"] {
      width: 100%;
      padding: 14px 18px;
      border: 1px solid #ddd;
      border-radius: 12px;
      outline: none;
      font: inherit;
      transition: var(--transition);
      background: #fff;
    }
    
    input:focus {
      border-color: var(--brand);
      box-shadow: 0 0 0 3px rgba(138, 79, 255, 0.1);
    }
    
    .inline {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }
    
    .small {
      font-size: .9rem;
      color: var(--muted);
    }
    
    /* Testimonials */
    .testimonials-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      flex-wrap: wrap;
      gap: 20px;
    }
    
    .tape {
      display: flex;
      gap: 24px;
      overflow: auto;
      scroll-snap-type: x mandatory;
      padding: 10px 5px 30px;
      scrollbar-width: thin;
    }
    
    .tape::-webkit-scrollbar {
      height: 8px;
    }
    
    .tape::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }
    
    .tape::-webkit-scrollbar-thumb {
      background: var(--brand);
      border-radius: 10px;
    }
    
    .quote {
      min-width: 360px;
      max-width: 360px;
      scroll-snap-align: start;
      background: #fff;
      padding: 32px;
      border-radius: var(--radius-lg);
      border: 1px solid #eee;
      box-shadow: var(--shadow);
      position: relative;
      transition: var(--transition);
    }
    
    .quote:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }
    
    .quote::before {
      content: """;
      position: absolute;
      top: 15px;
      left: 20px;
      font-size: 80px;
      color: var(--brand);
      opacity: 0.15;
      font-family: Georgia, serif;
      line-height: 1;
    }
    
    .quote-text {
      position: relative;
      z-index: 1;
      margin-bottom: 24px;
      line-height: 1.7;
      font-size: 1.05rem;
    }
    
    .quote .who {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-top: 20px;
    }
    
    .avatar {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #fff;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    
    .who-details {
      display: flex;
      flex-direction: column;
    }
    
    .who-name {
      font-weight: 600;
      font-size: 1.1rem;
    }
    
    .who-role {
      font-size: 0.9rem;
      color: var(--muted);
    }
    
    .stars {
      color: #ffc107;
      margin-top: 5px;
      font-size: 1.1rem;
    }
    
    /* Contact */
    .contact {
      background: linear-gradient(135deg, var(--brand2), var(--brand));
      color: #fff;
      text-align: center;
      border-radius: var(--radius-lg);
      position: relative;
      overflow: hidden;
    }
    
    .contact::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    }
    
    .socials {
      display: flex;
      gap: 15px;
      justify-content: center;
      margin-top: 20px;
    }
    
    .socials a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: rgba(255,255,255,.15);
      transition: var(--transition);
      font-size: 1.2rem;
    }
    
    .socials a:hover {
      background: #fff;
      color: var(--brand);
      transform: translateY(-5px);
    }
    
    /* Footer */
    footer {
      padding: 40px 20px;
      text-align: center;
      color: #888;
      background: #f5f5f5;
    }
    
    /* Reveal on scroll */
    .reveal {
      opacity: 0;
      transform: translateY(40px);
      transition: all .8s cubic-bezier(0.175, 0.885, 0.32, 1.1);
    }
    
    .reveal.show {
      opacity: 1;
      transform: none;
    }
    
    /* Scroll to top button */
    #scrollTop {
      position: fixed;
      bottom: 30px;
      right: 30px;
      display: none;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      border: none;
      background: linear-gradient(45deg, var(--brand), var(--accent));
      color: white;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 6px 20px rgba(0,0,0,.2);
      z-index: 999;
      transition: var(--transition);
    }
    
    #scrollTop:hover {
      transform: translateY(-5px) scale(1.1);
      box-shadow: 0 10px 25px rgba(0,0,0,.3);
    }
    
    /* Loading animation */
    @keyframes fadeIn {
      from { 
        opacity: 0; 
        transform: translateY(30px); 
      }
      to { 
        opacity: 1; 
        transform: translateY(0); 
      }
    }
    
    .fade-in {
      animation: fadeIn 1.2s ease forwards;
    }
    
    /* Image optimization styles */
    .optimized-img {
      width: 100%;
      height: auto;
      border-radius: var(--radius);
    }
    
    /* Low-quality image placeholders (LQIP) */
    .lazyload,
    .lazyloading {
      opacity: 0.2;
      transition: opacity 0.5s;
    }
    
    .lazyloaded {
      opacity: 1;
    }
    
    /* Filter buttons for gallery */
    .gallery-filters {
      display: flex;
      gap: 12px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    
    .filter-btn {
      padding: 10px 20px;
      background: #f1f1f1;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      transition: var(--transition);
      font-weight: 500;
    }
    
    .filter-btn.active,
    .filter-btn:hover {
      background: var(--brand);
      color: white;
      transform: translateY(-2px);
    }
    
    /* Particle background for hero */
    .particles {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
    }
    
    .particle {
      position: absolute;
      background: rgba(255,255,255,0.5);
      border-radius: 50%;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header id="main-header">
    <div class="nav">
      <a class="logo" href="#home" aria-label="Home">
        <!-- Clean SVG cap logo -->
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M12 2L2 7l10 5 8-4.1V14h2V7L12 2Z" fill="url(#g)"/>
          <path d="M6 10v4c0 2.2 4 4 6 4s6-1.8 6-4v-4" stroke="#8A4FFF" stroke-width="1.4" fill="none" />
          <defs>
            <linearGradient id="g" x1="0" y1="0" x2="24" y2="24">
              <stop stop-color="#8A4FFF"/><stop offset="1" stop-color="#B380FF"/>
            </linearGradient>
          </defs>
        </svg>
        Central College Mityana • 2024
      </a>
      <nav class="links" aria-label="Primary">
        <a href="#home" class="active">Home</a>
        <a href="#about">About</a>
        <a href="#highlights">Highlights</a>
        <a href="#gallery">Gallery</a>
        <a href="#share">Share</a>
        <a href="#testimonials">Testimonials</a>
        <a href="#contact">Contact</a>
        <button class="cta-sign" onclick="openSign()">Sign In</button>
      </nav>
      <button class="burger" id="burger" aria-label="Open menu" aria-expanded="false" onclick="toggleDrawer()">
        <span></span><span></span><span></span>
      </button>
    </div>
  </header>

  <!-- Mobile drawer -->
  <aside class="drawer" id="drawer" role="dialog" aria-modal="true" aria-label="Menu">
    <a href="#home" onclick="closeDrawer()">Home</a>
    <a href="#about" onclick="closeDrawer()">About</a>
    <a href="#highlights" onclick="closeDrawer()">Highlights</a>
    <a href="#gallery" onclick="closeDrawer()">Gallery</a>
    <a href="#share" onclick="closeDrawer()">Share</a>
    <a href="#testimonials" onclick="closeDrawer()">Testimonials</a>
    <a href="#contact" onclick="closeDrawer()">Contact</a>
    <button class="cta-sign" style="margin-top:20px; width:100%" onclick="closeDrawer(); openSign()">Sign In</button>
  </aside>
  <div class="scrim" id="scrim" onclick="closeDrawer()"></div>

  <!-- Hero -->
  <section id="home" class="hero">
    <div class="particles" id="particles"></div>
    <div class="floating floating-1"></div>
    <div class="floating floating-2"></div>
    <div class="floating floating-3"></div>
    <div class="wrap">
      <div class="hero-content">
        <div class="eyebrow">CENTRAL COLLEGE MITYANA</div>
        <h1 class="title fade-in">Relive the Magic of <span style="background:linear-gradient(45deg,#fff,#f0e6ff); -webkit-background-clip:text; background-clip:text; color:transparent;">Prom Night 2024</span></h1>
        <p class="subtitle fade-in">Red carpet arrivals, sparkling decor, epic dance floor moments, and memories we'll keep forever.</p>
        <div class="btns">
          <a class="btn primary" href="#gallery">View Gallery</a>
          <button class="btn ghost" onclick="openSign()">Share Memories</button>
        </div>
      </div>
    </div>
  </section>

  <!-- About -->
  <section id="about">
    <div class="wrap about reveal">
      <div class="grid-2">
        <div>
          <div class="kicker">About Prom Day</div>
          <h2 class="sec">Elegance, Friendship, and Unforgettable Moments</h2>
          <p class="muted">From the first flash on the red carpet to the last song from the DJ, Prom 2024 brought the class together in style. This page captures the story — your outfits, your smiles, and the energy that made the night special.</p>
          <p class="small" style="margin-top:20px">Tip: Tap any image to view it large. Uploads are watermarked to protect your memories.</p>
        </div>
        <div>
          <img src="sd.jpg" loading="lazy" alt="Red carpet arrivals at Central College Mityana Prom 2024" class="about-img optimized-img" width="600" height="400">
        </div>
      </div>
    </div>
  </section>

  <!-- Highlights -->
  <section id="highlights">
    <div class="wrap highlights reveal">
      <h2 class="sec">Night Highlights</h2>
      <div class="cards" style="margin-top:30px">
        <article class="card">
          <div class="pill">🎤 DJ Set</div>
          <h3>Dance Floor Vibes</h3>
          <p class="muted">The DJ spun non-stop bangers — from Afrobeats to Pop — keeping sneakers and heels moving.</p>
        </article>
        <article class="card">
          <div class="pill">🎬 Red Carpet</div>
          <h3>Drip & Glam</h3>
          <p class="muted">Stylish suits and stunning gowns lit up the step-and-repeat.</p>
        </article>
        <article class="card">
          <div class="pill">📸 Photo Booth</div>
          <h3>Instant Keepsakes</h3>
          <p class="muted">Grabbed props, struck poses, and took home prints with friends.</p>
        </article>
        <article class="card">
          <div class="pill">👑 Royalty</div>
          <h3>King & Queen</h3>
          <p class="muted">The crowning moment the whole room cheered for.</p>
        </article>
      </div>
    </div>
  </section>

  <!-- Gallery -->
  <section id="gallery">
    <div class="wrap reveal">
      <div class="testimonials-header">
        <h2 class="sec">Gallery</h2>
        <div class="gallery-filters">
          <button class="filter-btn active" onclick="filterGallery('all')">All</button>
          <button class="filter-btn" onclick="filterGallery('red-carpet')">Red Carpet</button>
          <button class="filter-btn" onclick="filterGallery('dance')">Dance Floor</button>
          <button class="filter-btn" onclick="filterGallery('group')">Group Photos</button>
        </div>
      </div>
      <div class="grid" style="margin-top:30px">
        <!-- Sample shots with original images -->
        <div class="shot" data-big="70.jpg" onclick="openLightbox(this)" data-category="dance">
          <img loading="lazy" src="70.jpg" alt="Dance floor at Central College Mityana Prom 2024">
          <div class="shot-info">
            <h3 class="shot-title">Dance Floor Energy</h3>
            <p class="shot-desc">Students showing off their best moves to the DJ's beats</p>
            <div class="shot-meta">
              <div class="shot-likes">142</div>
              <span class="wm">© Prom 2024</span>
            </div>
          </div>
        </div>
        <div class="shot" data-big="13.jpg" onclick="openLightbox(this)" data-category="group">
          <img loading="lazy" src="13.jpg" alt="Group photo at Central College Mityana Prom 2024">
          <div class="shot-info">
            <h3 class="shot-title">Friends Forever</h3>
            <p class="shot-desc">Class of 2024 showing their strong bond</p>
            <div class="shot-meta">
              <div class="shot-likes">218</div>
              <span class="wm">© Prom 2024</span>
            </div>
          </div>
        </div>
        <div class="shot" data-big="9.jpg" onclick="openLightbox(this)" data-category="red-carpet">
          <img loading="lazy" src="100.jpg" alt="Students laughing at Central College Mityana Prom 2024">
          <div class="shot-info">
            <h3 class="shot-title">Red Carpet Moments</h3>
            <p class="shot-desc">Stylish arrivals making a statement</p>
            <div class="shot-meta">
              <div class="shot-likes">187</div>
              <span class="wm">© Prom 2024</span>
            </div>
          </div>
        </div>
        <div class="shot" data-big="534.jpg" onclick="openLightbox(this)" data-category="dance">
          <img loading="lazy" src="169.jpg" alt="Award moment at Central College Mityana Prom 2024">
          <div class="shot-info">
            <h3 class="shot-title">Award Celebration</h3>
            <p class="shot-desc">Recognizing outstanding students of the year</p>
            <div class="shot-meta">
              <div class="shot-likes">256</div>
              <span class="wm">© Prom 2024</span>
            </div>
          </div>
        </div>
        <!-- Additional gallery items with original images -->
        <div class="shot" data-big="47.jpg" onclick="openLightbox(this)" data-category="group">
          <img loading="lazy" src="47.jpg" alt="Students posing at Central College Mityana Prom 2024">
          <div class="shot-info">
            <h3 class="shot-title">Best Friends</h3>
            <p class="shot-desc">Creating memories that will last a lifetime</p>
            <div class="shot-meta">
              <div class="shot-likes">172</div>
              <span class="wm">© Prom 2024</span>
            </div>
          </div>
        </div>
        <div class="shot" data-big="608.jpg" onclick="openLightbox(this)" data-category="red-carpet">
          <img loading="lazy" src="660.jpg" alt="Elegant dress at Central College Mityana Prom 2024">
          <div class="shot-info">
            <h3 class="shot-title">Elegant Style</h3>
            <p class="shot-desc">Showcasing fashion and sophistication</p>
            <div class="shot-meta">
              <div class="shot-likes">204</div>
              <span class="wm">© Prom 2024</span>
            </div>
          </div>
        </div>
        <!-- Additional images from the 1-800 range -->
        <div class="shot" data-big="222.jpg" onclick="openLightbox(this)" data-category="dance">
          <img loading="lazy" src="222.jpg" alt="Prom night celebration at Central College Mityana">
          <div class="shot-info">
            <h3 class="shot-title">Celebration Time</h3>
            <p class="shot-desc">Students enjoying the festive atmosphere</p>
            <div class="shot-meta">
              <div class="shot-likes">189</div>
              <span class="wm">© Prom 2024</span>
            </div>
          </div>
        </div>
        <div class="shot" data-big="345.jpg" onclick="openLightbox(this)" data-category="group">
          <img loading="lazy" src="345.jpg" alt="Group of friends at Central College Mityana Prom">
          <div class="shot-info">
            <h3 class="shot-title">Memorable Moments</h3>
            <p class="shot-desc">Friends sharing laughs and creating memories</p>
            <div class="shot-meta">
              <div class="shot-likes">231</div>
              <span class="wm">© Prom 2024</span>
            </div>
          </div>
        </div>
      </div>
      <p class="small" style="margin-top:30px; text-align:center">More photos coming soon. For faster loads, thumbnails are optimized and full images open in a lightbox.</p>
    </div>
  </section>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-modal="true" role="dialog">
    <button class="close" onclick="closeLightbox()">✕</button>
    <div class="lightbox-content">
      <img alt="Preview image from Central College Mityana Prom 2024">
    </div>
    <div class="lightbox-caption" id="lightbox-caption"></div>
  </div>

  <!-- Share / Sign-in & Upload -->
  <section id="share">
    <div class="wrap share reveal">
      <h2 class="sec">Share Your Moments</h2>
      <div class="panel">
        <div>
          <p class="muted">Sign in with your email to save or share images.</p>
          <div class="well" style="margin-top:20px">
            <div class="form-row">
              <input type="email" id="email" placeholder="Your email (e.g. charlie02056@gmail.com)" autocomplete="email">
              <button class="cta-sign" onclick="fakeSignIn()">Sign In</button>
            </div>
            <p id="signin-status" class="small" style="margin:12px 0 0"></p>
          </div>
          <div id="uploadArea" style="display:none; margin-top:20px">
            <div class="form-row">
              <input type="text" id="wmText" placeholder="Watermark text (default: your email)">
            </div>
            <div class="inline">
              <input type="file" id="fileInput" accept="image/*">
              <button class="btn primary" onclick="applyWatermark()">Apply Watermark</button>
            </div>
            <p class="small">After processing, right-click or long-press the preview to save, or use the Download button.</p>
            <div id="previewWrap" style="margin-top:20px; display:none">
              <canvas id="canvas" style="max-width:100%; border:1px solid #eee; border-radius:10px"></canvas>
              <div class="inline" style="margin-top:15px">
                <button class="btn" onclick="downloadCanvas()">Download Watermarked Image</button>
              </div>
            </div>
          </div>
        </div>
        <div>
          <img src="132 (1).jpg" loading="lazy" alt="Sharing memories from Central College Mityana Prom 2024" class="optimized-img" width="500" height="350">
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section id="testimonials">
    <div class="wrap reveal">
      <div class="testimonials-header">
        <h2 class="sec">What Students Said</h2>
        <button class="btn ghost" onclick="addTestimonial()">Add Your Story</button>
      </div>
      <div class="tape" id="tape">
        <article class="quote">
          <p class="quote-text">"The music, the outfits — everything was perfect. Best night of the year! I'll never forget dancing with my friends until we couldn't stand anymore."</p>
          <div class="who">
            <img class="avatar" loading="lazy" src="690.jpg" alt="Aisha, S.6 student" width="60" height="60">
            <div class="who-details">
              <span class="who-name">Aisha M.</span>
              <span class="who-role">S.6 Student</span>
              <div class="stars">★★★★★</div>
            </div>
          </div>
        </article>
        <article class="quote">
          <p class="quote-text">"Photo booth with my crew was hilarious — memories secured! We must have taken like 50 different photos with all the silly props they had."</p>
          <div class="who">
            <img class="avatar" loading="lazy" src="306.jpg" alt="Brian, S.4 student" width="60" height="60">
            <div class="who-details">
              <span class="who-name">Brian K.</span>
              <span class="who-role">S.4 Student</span>
              <div class="stars">★★★★☆</div>
            </div>
          </div>
        </article>
        <article class="quote">
          <p class="quote-text">"The red carpet felt like a movie premiere. 10/10 experience. I felt like a celebrity with all the cameras flashing as I walked in with my date."</p>
          <div class="who">
            <img class="avatar" loading="lazy" src="408.jpg" alt="Mercy, S.6 student" width="60" height="60">
            <div class="who-details">
              <span class="who-name">Mercy N.</span>
              <span class="who-role">S.6 Student</span>
              <div class="stars">★★★★★</div>
            </div>
          </div>
        </article>
        <article class="quote">
          <p class="quote-text">"The food was amazing and the decorations transformed our hall into something magical. Huge thanks to the organizing committee!"</p>
          <div class="who">
            <img class="avatar" loading="lazy" src="67.jpg" alt="David, S.5 student" width="60" height="60">
            <div class="who-details">
              <span class="who-name">David T.</span>
              <span class="who-role">S.5 Student</span>
              <div class="stars">★★★★★</div>
            </div>
          </div>
        </article>
      </div>
      <p class="small" style="text-align:center; margin-top:15px">Swipe sideways on mobile to see more.</p>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact">
    <div class="wrap contact reveal">
      <h2 class="sec" style="color:#fff">Get in Touch</h2>
      <p style="margin-bottom:10px">For photo inquiries or to request removals/credits:</p>
      <p style="margin-bottom:20px"><strong>Email:</strong> charlie02056@gmail.com • <strong>WhatsApp:</strong> <a href="https://wa.me/256700955563" style="color:#fff; text-decoration:underline">+256 700 955563</a></p>
      <div class="socials">
        <a href="#" aria-label="Facebook">📘</a>
        <a href="#" aria-label="Instagram">📷</a>
        <a href="#" aria-label="X / Twitter">🐦</a>
        <a href="#" aria-label="YouTube">▶️</a>
      </div>
    </div>
  </section>

  <footer>
    <div class="wrap">
      <div style="font-weight:700; color:#8A4FFF; font-size:1.2rem">Central College Mityana Prom Memories</div>
      <div style="margin-top:15px; display:flex; gap:16px; justify-content:center; flex-wrap:wrap">
        <a href="#home">Home</a>•<a href="#gallery">Gallery</a>•<a href="#about">About</a>•<a href="#share">Share</a>•<a href="#">Privacy</a>
      </div>
      <div style="margin-top:12px">© 2024 Central College Mityana Prom. All rights reserved.</div>
    </div>
  </footer>

  <!-- Scroll to top button -->
  <button id="scrollTop" aria-label="Scroll to top">↑</button>

  <!-- Sign-in Modal (lightweight) -->
  <dialog id="signinModal" style="border:none; border-radius:20px; padding:0; max-width:450px; width:92vw; box-shadow:var(--shadow-lg);">
    <div style="padding:30px 30px 25px">
      <h3 style="margin:0 0 12px; font-size:1.4rem">Sign in to Share Images</h3>
      <p class="small" style="margin:0 0 20px">Enter your email to continue.</p>
      <div class="form-row">
        <input type="email" id="emailModal" placeholder="you@example.com" style="margin-bottom:10px">
      </div>
      <div class="inline" style="margin-top:20px">
        <button class="cta-sign" onclick="applyModalSign()">Continue</button>
        <button class="btn" onclick="closeSign()">Cancel</button>
      </div>
    </div>
  </dialog>

  <script>
    /* ======= Mobile drawer with blur effect ======= */
    const drawer = document.getElementById('drawer');
    const scrim = document.getElementById('scrim');
    const burger = document.getElementById('burger');
    
    function toggleDrawer() {
      const open = drawer.classList.contains('active');
      if (open) {
        closeDrawer();
      } else {
        openDrawer();
      }
    }
    
    function openDrawer() {
      drawer.style.display = 'block';
      setTimeout(() => {
        drawer.classList.add('active');
        scrim.style.display = 'block';
        setTimeout(() => {
          scrim.classList.add('active');
        }, 10);
      }, 10);
      document.body.classList.add('noscr');
      burger.classList.add('active');
      burger.setAttribute('aria-expanded', 'true');
    }
    
    function closeDrawer() {
      drawer.classList.remove('active');
      scrim.classList.remove('active');
      setTimeout(() => {
        drawer.style.display = 'none';
        scrim.style.display = 'none';
      }, 500);
      document.body.classList.remove('noscr');
      burger.classList.remove('active');
      burger.setAttribute('aria-expanded', 'false');
    }
    
    /* ======= Header scroll effect ======= */
    const header = document.getElementById('main-header');
    
    window.addEventListener('scroll', () => {
      if (window.pageYOffset > 50) {
        header.classList.add('scrolled');
      } else {
        header.classList.remove('scrolled');
      }
    });
    
    /* ======= Smooth scroll with header offset ======= */
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', e => {
        const id = a.getAttribute('href');
        if (!id || id === '#') return;
        
        const el = document.querySelector(id);
        if (!el) return;
        
        e.preventDefault();
        const y = el.getBoundingClientRect().top + window.pageYOffset - 80; // header offset
        window.scrollTo({top: y, behavior: 'smooth'});
        
        // Close mobile drawer if open
        if (drawer.classList.contains('active')) {
          closeDrawer();
        }
      });
    });
    
    /* ======= Scrollspy (active link highlight) ======= */
    const sections = ['home', 'about', 'highlights', 'gallery', 'share', 'testimonials', 'contact']
      .map(id => document.getElementById(id));
    
    const navLinks = Array.from(document.querySelectorAll('.links a[href^="#"]'));
    
    const io = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const id = entry.target.id;
          navLinks.forEach(a => {
            a.classList.toggle('active', a.getAttribute('href') === '#' + id);
          });
        }
      });
    }, {rootMargin: '-40% 0px -55% 0px', threshold: 0});
    
    sections.forEach(s => io.observe(s));
    
    /* ======= Reveal on scroll ======= */
    const reveals = document.querySelectorAll('.reveal');
    const io2 = new IntersectionObserver((ents) => {
      ents.forEach(ent => {
        if (ent.isIntersecting) {
          ent.target.classList.add('show');
          io2.unobserve(ent.target);
        }
      });
    }, {threshold: .1});
    
    reveals.forEach(el => io2.observe(el));
    
    /* ======= Lightbox ======= */
    const lb = document.getElementById('lightbox');
    const lbCaption = document.getElementById('lightbox-caption');
    
    function openLightbox(el) {
      const big = el.getAttribute('data-big');
      const title = el.querySelector('.shot-title')?.textContent || '';
      const desc = el.querySelector('.shot-desc')?.textContent || '';
      
      lb.querySelector('img').src = big;
      lbCaption.textContent = `${title} - ${desc}`;
      lb.classList.add('active');
      document.body.classList.add('noscr');
    }
    
    function closeLightbox() {
      lb.classList.remove('active');
      document.body.classList.remove('noscr');
      setTimeout(() => {
        lb.querySelector('img').src = '';
        lbCaption.textContent = '';
      }, 300);
    }
    
    lb.addEventListener('click', (e) => {
      if (e.target === lb) closeLightbox();
    });
    
    /* ======= Gallery Filtering ======= */
    function filterGallery(category) {
      const shots = document.querySelectorAll('.shot');
      const filterBtns = document.querySelectorAll('.filter-btn');
      
      // Update active button
      filterBtns.forEach(btn => {
        const btnText = btn.textContent.toLowerCase().replace(' ', '-');
        btn.classList.toggle('active', category === 'all' ? 
          btn.textContent.toLowerCase() === 'all' : 
          btnText === category
        );
      });
      
      // Filter shots
      shots.forEach(shot => {
        if (category === 'all' || shot.getAttribute('data-category') === category) {
          shot.style.display = 'block';
          setTimeout(() => {
            shot.style.opacity = '1';
            shot.style.transform = 'translateY(0)';
          }, 10);
        } else {
          shot.style.opacity = '0';
          shot.style.transform = 'translateY(20px)';
          setTimeout(() => {
            shot.style.display = 'none';
          }, 300);
        }
      });
    }
    
    /* ======= Sign-in modal ======= */
    const modal = document.getElementById('signinModal');
    
    function openSign() {
      if (typeof modal.showModal === 'function') {
        modal.showModal();
      } else {
        modal.setAttribute('open', '');
      }
    }
    
    function closeSign() {
      if (typeof modal.close === 'function') {
        modal.close();
      } else {
        modal.removeAttribute('open');
      }
    }
    
    function applyModalSign() {
      const v = document.getElementById('emailModal').value.trim();
      if (!v) {
        alert('Enter a valid email');
        return;
      }
      document.getElementById('email').value = v;
      document.getElementById('signin-status').textContent = 'Signed in as ' + v;
      document.getElementById('uploadArea').style.display = 'block';
      closeSign();
    }
    
    function fakeSignIn() {
      const v = document.getElementById('email').value.trim();
      if (!v) {
        openSign();
        return;
      }
      document.getElementById('signin-status').textContent = 'Signed in as ' + v;
      document.getElementById('uploadArea').style.display = 'block';
    }
    
    /* ======= Client-side watermarking (Canvas) ======= */
    const fileInput = document.getElementById('fileInput');
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    
    function applyWatermark() {
      const file = fileInput.files?.[0];
      if (!file) {
        alert('Choose an image file first');
        return;
      }
      
      const reader = new FileReader();
      reader.onload = (ev) => {
        const img = new Image();
        img.onload = () => {
          // Scale to a reasonable size for web (max width 1600)
          const maxW = 1600;
          const scale = Math.min(1, maxW / img.width);
          canvas.width = Math.round(img.width * scale);
          canvas.height = Math.round(img.height * scale);
          
          ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
          
          // Watermark text
          const email = document.getElementById('email').value.trim();
          const wmInput = document.getElementById('wmText').value.trim();
          const wm = wmInput || email || 'Central College Mityana • Prom 2024';
          
          // Draw watermark (bottom-right)
          const pad = Math.max(12, Math.round(canvas.width * 0.012));
          const fontSize = Math.max(16, Math.round(canvas.width * 0.025));
          
          ctx.font = `700 ${fontSize}px Poppins, Arial`;
          ctx.textBaseline = 'bottom';
          
          // Shadow box for contrast
          const textW = ctx.measureText(wm).width;
          const textH = fontSize + 6;
          
          ctx.fillStyle = 'rgba(0,0,0,.35)';
          ctx.fillRect(
            canvas.width - textW - pad * 1.5, 
            canvas.height - textH - pad, 
            textW + pad, 
            textH + pad/2
          );
          
          // Text
          ctx.fillStyle = 'rgba(255,255,255,.92)';
          ctx.fillText(wm, canvas.width - textW - pad, canvas.height - pad);
          
          document.getElementById('previewWrap').style.display = 'block';
          
          // Scroll to preview
          document.getElementById('previewWrap').scrollIntoView({
            behavior: 'smooth',
            block: 'center'
          });
        };
        img.src = ev.target.result;
      };
      reader.readAsDataURL(file);
    }
    
    function downloadCanvas() {
      const a = document.createElement('a');
      a.download = 'prom-2024-watermarked.jpg';
      a.href = canvas.toDataURL('image/jpeg', 0.9);
      a.click();
    }
    
    /* ======= Testimonial Function ======= */
    function addTestimonial() {
      const name = prompt("Enter your name:");
      if (!name) return;
      
      const role = prompt("Enter your class (e.g. S.6 Student):");
      if (!role) return;
      
      const message = prompt("Share your Prom experience:");
      if (!message) return;
      
      alert("Thank you for sharing your experience! Your testimonial will be reviewed before publishing.");
    }
    
    /* ======= Scroll to top button ======= */
    const scrollTopBtn = document.getElementById('scrollTop');
    
    window.addEventListener('scroll', () => {
      if (window.pageYOffset > 300) {
        scrollTopBtn.style.display = 'block';
      } else {
        scrollTopBtn.style.display = 'none';
      }
    });
    
    scrollTopBtn.addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });
    
    /* ======= Particle background for hero ======= */
    function createParticles() {
      const container = document.getElementById('particles');
      const particleCount = 30;
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        
        // Random properties
        const size = Math.random() * 5 + 2;
        const posX = Math.random() * 100;
        const posY = Math.random() * 100;
        const opacity = Math.random() * 0.5 + 0.1;
        const animationDelay = Math.random() * 20;
        const animationDuration = Math.random() * 10 + 10;
        
        particle.style.width = `${size}px`;
        particle.style.height = `${size}px`;
        particle.style.left = `${posX}%`;
        particle.style.top = `${posY}%`;
        particle.style.opacity = opacity;
        particle.style.animation = `float ${animationDuration}s ease-in-out ${animationDelay}s infinite`;
        
        container.appendChild(particle);
      }
    }
    
    // Initialize page with small animations
    document.addEventListener('DOMContentLoaded', () => {
      // Add loading="lazy" to all images that don't have it
      document.querySelectorAll('img:not([loading])').forEach(img => {
        img.setAttribute('loading', 'lazy');
      });
      
      // Create particle background
      createParticles();
      
      // Add width and height attributes to prevent layout shifts
      document.querySelectorAll('img').forEach(img => {
        if (!img.hasAttribute('width') && !img.hasAttribute('height')) {
          // Set default dimensions if not specified
          img.setAttribute('width', '300');
          img.setAttribute('height', '200');
        }
      });
      
      // Add error handling for images
      document.querySelectorAll('img').forEach(img => {
        img.onerror = function() {
          // Replace broken images with a placeholder
          this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjRjhGOUZGIi8+CjxwYXRoIGQ9Ik0xMDAgMTUwTDE1MCAxMDBMMjAwIDE1MEwyNTAgMTAwTDMwMCAxNTAiIHN0cm9rZT0iIzhBNEZGRiIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxjaXJjbGUgY3g9IjE1MCIgY3k9IjE4MCIgcj0iMjAiIGZpbGw9IiM4QTRGRkYiIG9wYWNpdHk9IjAuNSIvPgo8Y2lyY2xlIGN4PSIyNTAiIGN5PSIxODAiIHI9IjIwIiBmaWxsPSIjOEE0RkZGIiBvcGFjaXR5PSIwLjUiLz4KPHN2Zz4=';
          this.alt = 'Image not available';
        };
      });
    });
  </script>
</body>
</html>
