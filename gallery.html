<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Starlight Prom 2024 | Gallery</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== Global Styles ===== */
        :root {
            --primary: #6a4c93;
            --secondary: #f8c537;
            --dark: #1a1a2e;
            --light: #f8f9fa;
            --text: #333;
            --text-light: #6c757d;
            --transition: all 0.3s ease;
            --radius: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: white;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* ===== Header ===== */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 15px 0;
            background: white;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 935px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary);
        }

        /* ===== Gallery Grid ===== */
        .gallery-section {
            padding-top: 80px;
        }

        .photo-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2px;
            max-width: 935px;
            margin: 0 auto;
        }

        .photo-item {
            position: relative;
            width: 100%;
            aspect-ratio: 1;
            overflow: hidden;
            background: #f5f5f5;
        }

        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .photo-watermark {
            position: absolute;
            bottom: 5px;
            left: 0;
            right: 0;
            text-align: center;
            color: white;
            font-size: 0.9em;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.8);
            padding: 3px;
            background: linear-gradient(transparent, rgba(0,0,0,0.5));
        }

        /* ===== Loading Animation ===== */
        @keyframes shimmer {
            0% { background-position: -468px 0 }
            100% { background-position: 468px 0 }
        }

        .loading-placeholder {
            animation: shimmer 1.5s infinite linear;
            background: linear-gradient(to right, #f5f5f5 8%, #e0e0e0 18%, #f5f5f5 33%);
            background-size: 800px 104px;
        }

        /* ===== Responsive ===== */
        @media (max-width: 768px) {
            .photo-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo">Starlight Prom</div>
        </div>
    </header>

    <!-- Gallery Grid -->
    <section class="gallery-section">
        <div class="photo-grid" id="photoGrid">
            <!-- Placeholder elements that will be replaced with actual images -->
            <div class="photo-item loading-placeholder"></div>
            <div class="photo-item loading-placeholder"></div>
            <div class="photo-item loading-placeholder"></div>
            <div class="photo-item loading-placeholder"></div>
            <div class="photo-item loading-placeholder"></div>
            <div class="photo-item loading-placeholder"></div>
            <div class="photo-item loading-placeholder"></div>
            <div class="photo-item loading-placeholder"></div>
            <div class="photo-item loading-placeholder"></div>
            <div class="photo-item loading-placeholder"></div>
            <div class="photo-item loading-placeholder"></div>
            <div class="photo-item loading-placeholder"></div>
        </div>
    </section>

    <script>
        // Configuration
        const config = {
            totalPhotos: 100,          // Number of photos to load
            batchSize: 12,             // Photos to load per batch
            placeholderCount: 12,      // Number of placeholder elements
            baseImagePath: 'photos/',  // Path to your images
            imageQuality: 'low',       // 'low' (300px), 'medium' (600px), 'high' (900px)
            watermarkText: 'STARLIGHT PROM 2024'
        };

        // DOM Elements
        const photoGrid = document.getElementById('photoGrid');
        
        // Generate image URLs - replace with your actual image paths
        function getImageUrl(index, quality) {
            const sizes = {
                'low': 300,
                'medium': 600,
                'high': 900
            };
            const size = sizes[quality] || 300;
            
            // In a real app, this would point to your actual optimized images
            // Example: return `${config.baseImagePath}prom_${index}_${size}.webp`;
            
            // Using placeholder service for demo:
            return `https://source.unsplash.com/random/${size}x${size}/?prom,party&sig=${index}`;
        }

        // Load images with progressive enhancement
        function loadImages() {
            // First batch - load low quality images immediately
            loadImageBatch(0, config.batchSize, 'low');
            
            // Subsequent batches - load after initial render
            setTimeout(() => {
                for (let i = config.batchSize; i < config.totalPhotos; i += config.batchSize) {
                    loadImageBatch(i, config.batchSize, 'low');
                }
                
                // After all loaded, replace with higher quality
                setTimeout(() => upgradeImageQuality(), 2000);
            }, 100);
        }

        // Load a batch of images
        function loadImageBatch(startIndex, count, quality) {
            const fragment = document.createDocumentFragment();
            
            for (let i = startIndex; i < startIndex + count && i < config.totalPhotos; i++) {
                const photoItem = document.createElement('div');
                photoItem.className = '1.jpg';
                
                const img = document.createElement('img');
                img.loading = 'lazy';
                img.src = getImageUrl(i, quality);
                img.alt = `Prom photo ${i+1}`;
                
                const watermark = document.createElement('div');
                watermark.className = 'photo-watermark';
                watermark.textContent = config.watermarkText;
                
                photoItem.appendChild(img);
                photoItem.appendChild(watermark);
                
                // Replace placeholder or append new
                if (i < config.placeholderCount) {
                    photoGrid.replaceChild(photoItem, photoGrid.children[i]);
                } else {
                    fragment.appendChild(photoItem);
                }
            }
            
            if (startIndex + count > config.placeholderCount) {
                photoGrid.appendChild(fragment);
            }
        }

        // Upgrade image quality after initial load
        function upgradeImageQuality() {
            const images = photoGrid.querySelectorAll('img');
            images.forEach((img, index) => {
                const highResSrc = getImageUrl(index, 'medium');
                if (img.src !== highResSrc) {
                    img.src = highResSrc;
                }
            });
        }

        // Intersection Observer for lazy loading
        function initIntersectionObserver() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        if (img.dataset.src) {
                            img.src = img.dataset.src;
                            observer.unobserve(img);
                        }
                    }
                });
            }, { rootMargin: '200px' });

            document.querySelectorAll('img[data-src]').forEach(img => {
                observer.observe(img);
            });
        }

        // Start loading images
        document.addEventListener('DOMContentLoaded', () => {
            loadImages();
            
            // Prevent image downloading
            document.addEventListener('contextmenu', (e) => {
                if (e.target.tagName === 'IMG') e.preventDefault();
            });
            
            document.addEventListener('keydown', (e) => {
                if (e.key === 'PrintScreen') e.preventDefault();
            });
        });
    </script>
</body>
</html>
